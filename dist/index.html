<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Text2Wind ‚Äî Interfaz Espigadora</title>
  <meta name="description"
    content="Una experiencia web inmersiva donde las palabras se dibujan, respiran y se disuelven en el viento." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@300;400&display=swap"
    rel="stylesheet" />
  <script type="module" crossorigin src="./assets/index-CctH7pR_.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/index-CsMBXtDF.css">
</head>

<body>
  <canvas id="world"></canvas>

  <!-- Clock -->
  <div id="clock" class="clock">--:--:--</div>

  <!-- ‚ïê‚ïê‚ïê PARAMETERS PANEL (tabbed) ‚ïê‚ïê‚ïê -->
  <div id="controls" class="panel hidden">
    <div class="panel-header">
      <span class="panel-title">Par√°metros</span>
      <button class="panel-close" data-close="controls">&times;</button>
    </div>
    <div class="tabs">
      <button class="tab active" data-tab="tab-atmos">‚òÅÔ∏è Clima</button>
      <button class="tab" data-tab="tab-text">‚úçÔ∏è Texto</button>
      <button class="tab" data-tab="tab-rhythm">ü•Å Ritmo</button>
      <button class="tab" data-tab="tab-drone">üéµ Drone</button>
      <button class="tab" data-tab="tab-melody">üéπ Melod</button>
      <button class="tab" data-tab="tab-auto">üìñ Auto</button>
    </div>

    <div class="tab-content active" id="tab-atmos">
      <div class="control-group"><label>Viento</label><input type="range" id="ctrl-wind" min="0" max="100"
          value="20" /><span class="ctrl-value" data-for="ctrl-wind">20</span></div>
      <div class="control-group"><label>Direcci√≥n</label><input type="range" id="ctrl-wind-dir" min="0" max="360"
          value="90" /><span class="ctrl-value" data-for="ctrl-wind-dir">90¬∞</span></div>
      <div class="control-group"><label>Lluvia</label><input type="range" id="ctrl-rain" min="0" max="100"
          value="0" /><span class="ctrl-value" data-for="ctrl-rain">0</span></div>
      <div class="control-group"><label>Niebla</label><input type="range" id="ctrl-fog" min="0" max="100"
          value="0" /><span class="ctrl-value" data-for="ctrl-fog">0</span></div>
      <div class="control-group"><label>Temperatura</label><input type="range" id="ctrl-temp" min="-10" max="45"
          value="20" /><span class="ctrl-value" data-for="ctrl-temp">20¬∞C</span></div>
      <div class="control-group"><label>Tormenta</label><input type="range" id="ctrl-storm" min="0" max="100"
          value="0" /><span class="ctrl-value" data-for="ctrl-storm">0</span></div>
      <div class="control-group"><label>Hora</label><input type="range" id="ctrl-hour" min="-1" max="24" step="0.1"
          value="-1" /><span class="ctrl-value" data-for="ctrl-hour">Auto</span></div>
    </div>

    <!-- Tab: Texto -->
    <div class="tab-content" id="tab-text">
      <div class="control-group"><label>Persistencia</label><input type="range" id="ctrl-persist" min="2" max="120"
          step="1" value="8" /><span class="ctrl-value" data-for="ctrl-persist">8s</span></div>
      <div class="control-group"><label>Explosi√≥n</label><input type="range" id="ctrl-explosion" min="5" max="200"
          step="5" value="60" /><span class="ctrl-value" data-for="ctrl-explosion">60</span></div>
      <div class="control-group"><label>Color</label><input type="range" id="ctrl-ink-hue" min="0" max="360" step="1"
          value="0" /><span class="ctrl-value" data-for="ctrl-ink-hue">Auto</span></div>
      <div class="control-group"><label>Tipograf√≠a</label>
        <select id="ctrl-font">
          <option value="'JetBrains Mono', monospace" selected>JetBrains Mono</option>
          <option value="'Courier New', monospace">Courier New</option>
          <option value="'Fira Code', monospace">Fira Code</option>
          <option value="'Source Code Pro', monospace">Source Code Pro</option>
          <option value="'Ubuntu Mono', monospace">Ubuntu Mono</option>
          <option value="'IBM Plex Mono', monospace">IBM Plex Mono</option>
          <option value="monospace">System Mono</option>
        </select>
      </div>
      <p class="hint">Persistencia = segundos que vive el texto. Explosi√≥n = part√≠culas/letra. Color 0 = auto (hora).
        Tipograf√≠as monospace para ASCII art.</p>
    </div>

    <div class="tab-content" id="tab-rhythm">
      <div class="control-group control-toggle"><label>Activo</label><input type="checkbox" id="ctrl-rhythm-mute"
          checked /></div>
      <div class="control-group"><label>Volumen</label><input type="range" id="ctrl-rhythm-vol" min="-40" max="0"
          value="-14" /><span class="ctrl-value" data-for="ctrl-rhythm-vol">-14 dB</span></div>
      <div class="control-group"><label>Attack</label><input type="range" id="ctrl-rhythm-attack" min="0.001" max="0.5"
          step="0.001" value="0.002" /><span class="ctrl-value" data-for="ctrl-rhythm-attack">0.002</span></div>
      <div class="control-group"><label>Decay</label><input type="range" id="ctrl-rhythm-decay" min="0.01" max="1.0"
          step="0.01" value="0.15" /><span class="ctrl-value" data-for="ctrl-rhythm-decay">0.15</span></div>
      <div class="control-group"><label>Release</label><input type="range" id="ctrl-rhythm-release" min="0.01" max="2.0"
          step="0.01" value="0.1" /><span class="ctrl-value" data-for="ctrl-rhythm-release">0.10</span></div>
      <hr class="divider" />
      <div class="control-group control-toggle"><label>Viento</label><input type="checkbox" id="ctrl-wind-mute"
          checked /></div>
      <div class="control-group"><label>Vol. viento</label><input type="range" id="ctrl-wind-vol" min="-50" max="-10"
          value="-35" /><span class="ctrl-value" data-for="ctrl-wind-vol">-35 dB</span></div>
    </div>

    <div class="tab-content" id="tab-drone">
      <div class="control-group control-toggle"><label>Activo</label><input type="checkbox" id="ctrl-drone-mute"
          checked /></div>
      <div class="control-group"><label>Volumen</label><input type="range" id="ctrl-drone-vol" min="-40" max="-5"
          value="-22" /><span class="ctrl-value" data-for="ctrl-drone-vol">-22 dB</span></div>
      <div class="control-group"><label>Filtro LP</label><input type="range" id="ctrl-drone-filter" min="50" max="2000"
          step="10" value="400" /><span class="ctrl-value" data-for="ctrl-drone-filter">400 Hz</span></div>
      <div class="control-group"><label>Attack</label><input type="range" id="ctrl-drone-attack" min="0.5" max="10"
          step="0.1" value="4" /><span class="ctrl-value" data-for="ctrl-drone-attack">4.0s</span></div>
      <div class="control-group"><label>Release</label><input type="range" id="ctrl-drone-release" min="1" max="15"
          step="0.5" value="6" /><span class="ctrl-value" data-for="ctrl-drone-release">6.0s</span></div>
      <div class="control-group"><label>Onda</label>
        <select id="ctrl-drone-wave">
          <option value="sine" selected>Sine</option>
          <option value="triangle">Triangle</option>
          <option value="fatsine">Fat Sine</option>
          <option value="fatsawtooth">Fat Saw</option>
        </select>
      </div>
      <p class="hint">Reacciona a la hora y temperatura.</p>
    </div>

    <div class="tab-content" id="tab-melody">
      <div class="control-group control-toggle"><label>Activo</label><input type="checkbox" id="ctrl-melody-mute"
          checked /></div>
      <div class="control-group"><label>Volumen</label><input type="range" id="ctrl-melody-vol" min="-40" max="0"
          value="-16" /><span class="ctrl-value" data-for="ctrl-melody-vol">-16 dB</span></div>
      <div class="control-group"><label>Modo</label>
        <select id="ctrl-melody-mode">
          <option value="random" selected>Random (escala)</option>
          <option value="piano">Piano (QWERTY)</option>
        </select>
      </div>
      <div class="control-group"><label>Onda</label>
        <select id="ctrl-melody-wave">
          <option value="triangle" selected>Triangle</option>
          <option value="sine">Sine</option>
          <option value="square">Square</option>
          <option value="sawtooth">Sawtooth</option>
        </select>
      </div>
      <div class="control-group"><label>Attack</label><input type="range" id="ctrl-melody-attack" min="0.001" max="2.0"
          step="0.001" value="0.05" /><span class="ctrl-value" data-for="ctrl-melody-attack">0.050</span></div>
      <div class="control-group"><label>Decay</label><input type="range" id="ctrl-melody-decay" min="0.05" max="3.0"
          step="0.05" value="0.6" /><span class="ctrl-value" data-for="ctrl-melody-decay">0.60</span></div>
      <div class="control-group"><label>Release</label><input type="range" id="ctrl-melody-release" min="0.1" max="5.0"
          step="0.1" value="1.5" /><span class="ctrl-value" data-for="ctrl-melody-release">1.5</span></div>
      <div class="control-group"><label>Reverb</label><input type="range" id="ctrl-melody-reverb" min="0" max="1"
          step="0.05" value="0.35" /><span class="ctrl-value" data-for="ctrl-melody-reverb">0.35</span></div>
      <p class="hint">Escala: pentat√≥nica ‚Üí frigia (tormenta) ‚Üí lidia (calor).</p>
    </div>

    <!-- Tab: Auto-typewriter -->
    <div class="tab-content" id="tab-auto">
      <input type="file" id="file-import" accept=".txt,.md,.text" style="display:none" />
      <button id="btn-file-import" class="file-import-btn">üìÇ Importar archivo .txt</button>
      <p id="auto-status" class="hint" style="margin-bottom:8px">Sin archivo</p>
      <div class="control-group"><label>Velocidad</label><input type="range" id="ctrl-auto-bpm" min="10" max="400"
          value="120" /><span class="ctrl-value" data-for="ctrl-auto-bpm">120 BPM</span></div>
      <div style="display:flex;gap:6px;margin-top:8px">
        <button id="btn-auto-play" class="file-import-btn" style="flex:1">‚ñ∂ Reproducir</button>
        <button id="btn-auto-stop" class="file-import-btn" style="flex:0.6">‚èπ Stop</button>
      </div>
      <p class="hint">Import√° un .txt y el texto se escribe solo al BPM elegido.</p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê SHORTCUTS PANEL ‚ïê‚ïê‚ïê -->
  <div id="panel-shortcuts" class="panel panel-small hidden">
    <div class="panel-header">
      <span class="panel-title">Atajos</span>
      <button class="panel-close" data-close="panel-shortcuts">&times;</button>
    </div>
    <div class="shortcut-list">
      <div class="shortcut-row"><kbd>Click</kbd><span>Posicionar escritura</span></div>
      <div class="shortcut-row"><kbd>Enter</kbd><span>Erosionar l√≠nea + buscar palabra</span></div>
      <div class="shortcut-row"><kbd>F11</kbd><span>Modo performance</span></div>
      <div class="shortcut-row"><kbd>Esc</kbd><span>Cerrar panel / salir fullscreen</span></div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê ABOUT PANEL ‚ïê‚ïê‚ïê -->
  <div id="panel-about" class="panel panel-about hidden">
    <div class="panel-header">
      <span class="panel-title">¬øQu√© es esto?</span>
      <button class="panel-close" data-close="panel-about">&times;</button>
    </div>
    <div class="about-content">
      <p class="about-quote">"Nada es realmente un desecho si se mira con la atenci√≥n adecuada."</p>
      <p class="about-author">‚Äî Agn√®s Varda, <em>Los espigadores y la espigadora</em> (2000)</p>

      <h3>Text2Wind</h3>
      <p>Una interfaz espigadora: las palabras que escrib√≠s nacen como tipograf√≠a viva, respiran en un paisaje
        atmosf√©rico sincronizado con la hora real, y eventualmente se disuelven en viento, sonido y silencio.</p>

      <h3>C√≥mo funciona</h3>
      <p>Cada letra tiene un ciclo de vida: <strong>nacimiento ‚Üí reposo ‚Üí erosi√≥n ‚Üí disoluci√≥n</strong>. El cursor act√∫a
        como una vela que protege las letras del olvido. Cuando te alej√°s, el viento se las lleva.</p>

      <h3>Palabras sem√°nticas</h3>
      <p>360 palabras en espa√±ol est√°n mapeadas a efectos ambientales. Escribir <em>"lluvia"</em> nubla el cielo.
        <em>"Silencio"</em> detiene el viento. <em>"Memoria"</em> revela huellas del pasado.
      </p>

      <table class="semantic-table">
        <tr>
          <td>üî• <strong>Calor</strong></td>
          <td>fuego, sol, verano, desierto, lava, volc√°n, arena, ceniza</td>
        </tr>
        <tr>
          <td>‚ùÑÔ∏è <strong>Fr√≠o</strong></td>
          <td>hielo, nieve, invierno, tundra, glaciar, escarcha, t√©mpano</td>
        </tr>
        <tr>
          <td>üí® <strong>Viento</strong></td>
          <td>viento, vendaval, ventisca, brisa, hurac√°n, tornado, cicl√≥n</td>
        </tr>
        <tr>
          <td>üíß <strong>Agua</strong></td>
          <td>lluvia, mar, r√≠o, oc√©ano, cascada, lago, tormenta, vapor</td>
        </tr>
        <tr>
          <td>üßò <strong>Calma</strong></td>
          <td>silencio, paz, quietud, vibraci√≥n, vac√≠o, vivir, verde</td>
        </tr>
        <tr>
          <td>üåë <strong>Oscuridad</strong></td>
          <td>noche, sombra, oscuro, verso, viejo, t√∫nel, abismo</td>
        </tr>
        <tr>
          <td>‚òÄÔ∏è <strong>Luz</strong></td>
          <td>luz, sol, aurora, amanecer, turquesa, violeta, √≠ndigo, √°mbar</td>
        </tr>
      </table>

      <h3>Palabras especiales</h3>
      <table class="semantic-table">
        <tr>
          <td><em>espigar</em></td>
          <td>Part√≠culas muertas se levantan del suelo</td>
        </tr>
        <tr>
          <td><em>memoria</em></td>
          <td>El palimpsesto se hace visible</td>
        </tr>
        <tr>
          <td><em>silencio</em></td>
          <td>Todo se detiene ‚Äî suspensi√≥n contemplativa</td>
        </tr>
        <tr>
          <td><em>reloj</em></td>
          <td>Time-lapse del cielo (6 horas)</td>
        </tr>
        <tr>
          <td><em>coraz√≥n</em></td>
          <td>Part√≠culas forman un coraz√≥n</td>
        </tr>
        <tr>
          <td><em>varda</em></td>
          <td>Revelaci√≥n total + suspensi√≥n</td>
        </tr>
        <tr>
          <td><em>muerte</em></td>
          <td>Erosi√≥n simult√°nea de todas las letras</td>
        </tr>
        <tr>
          <td><em>nacer</em></td>
          <td>Hierba brota de los restos</td>
        </tr>
      </table>

      <h3>3 capas de sonido</h3>
      <p><strong>Ritmo:</strong> percusi√≥n generada por la erosi√≥n de letras.<br />
        <strong>Drone:</strong> tono continuo que cambia con la hora y el clima.<br />
        <strong>Melod√≠a:</strong> notas que nacen al teclear (modo random o piano QWERTY).
      </p>

      <p class="about-link"><a href="https://github.com/vlasvlasvlas/text2wind" target="_blank" rel="noopener">GitHub
          ‚Üó</a></p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê Floating buttons ‚ïê‚ïê‚ïê -->
  <div class="floating-bar">
    <button id="btn-about" class="floating-btn" title="¬øQu√© es esto?">‚ùì</button>
    <button id="btn-shortcuts" class="floating-btn" title="Atajos">‚å®Ô∏è</button>
    <button id="btn-fullscreen" class="floating-btn" title="Pantalla completa">‚õ∂</button>
    <button id="btn-capture" class="floating-btn" title="Capturar">üì∑</button>
    <button id="btn-sound" class="floating-btn" title="Sonido">üîä</button>
    <button id="btn-controls" class="floating-btn" title="Par√°metros">‚öôÔ∏è</button>
  </div>

  <!-- Intro overlay -->
  <div id="intro" class="intro">
    <div class="intro-content">
      <h1>Text2Wind</h1>
      <p class="intro-sub">Escrib√≠. Observ√°. Las palabras se disuelven en viento y sonido.</p>
      <p class="intro-features">Tipe√° o import√° un archivo de texto ¬∑ Las palabras afectan el clima</p>
      <p class="intro-hint">Click para comenzar</p>
    </div>
  </div>

</body>

</html>